# Как раньше было популярно строить слои

В начале пути строение приложений использовался паттерн проектирования **MVC (Model View Controller)**. Он пришел из веба, вместе с первыми разработчиками андроид. **Model**-ью были данные, которые описывают бизнес логику. **View**** **отвечал за отображение, а **Controller** за обработку данных. Такой подход был громоздким как на стороне `View`, так и `Controller`.  Все компоненты зависели друг от друга, ни о какой расширяемости и переиспользования речь не шла.

На смену MVC пришел **MVP (Model View Presenter)**. Здесь Model и View не знали друг о друге, и общались только через **presenter**, который был мостом между ними. Проблема заключалось в том, что presenter зависел от **view**. Под view имеется ввиду `Fragment и Activity`. Здесь трудности возникают с ЖЦ фрагментов и активити, так как presenter-у нужно и об этом учитывать. Переиспользовать presenter в этом случае тоже сложно, так как приходилось View часть отделять интерфейсами, что порождали много boilerplate кода.

На смену пришел MVVM, с `ViewModel` от Android Architecture Components. Теперь ViewModel не зависит от View (не имеет никаких ссылок на View). View также зависит от ViewModel и подписывается на данные (LiveData) от VM через паттерн "наблюдатель" ([Observer](https://refactoring.guru/ru/design-patterns/observer)). Проблема с ЖЦ View решается тем, что при подписке на данные от ViewModel, View передает свое состояние вьюмодельке. И при изменении конфигураций данные не нужно будет перезапрашивать - они автоматически подтянутся из `ViewModel`.

Перед погружением к ViewModel, необходимо вспомнить ЖЦ View компонентов.
