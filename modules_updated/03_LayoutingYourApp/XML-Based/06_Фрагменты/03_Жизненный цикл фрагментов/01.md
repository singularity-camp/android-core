# Жизненный цикл фрагмента

У фрагмента есть жизненный цикл, как у активити. Но число методов цикла гораздо больше:

![](https://ucarecdn.com/57d6c474-0273-4ffa-83c8-0f710337ab99/)

![](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw== "Click and drag to move")

Первым делом для фрагментов вызываются методы:

`onAttach` – фрагмент **прикреплен** к Activity и получает ссылку на него. В дальнейшем мы всегда можем получить ссылку на Activity, вызвав метод `getActivity()`.

`onCreate`  - это аналог метода onCreate у Activity, но здесь мы пока не имеем доступа к UI-элементам.

`onCreateView` – здесь вы создаете View, который будет содержимым фрагмента, и отдаете его системе.

Далее срабатывают метод Activity – `onCreate`, после него метод фрагментов `onActivityCreated` – сообщает фрагменту о том, что Activity создано и можно работать с UI-элементами

Далее метод Activity – `onStart`, после него `onStart` – аналогичен методу Activity, фрагмент виден пользователю

Далее метод Activity – `onResume`, после него `onResume` - аналогичен методу Activity, фрагмент доступен для взаимодействия.

Сначала для фрагментов и Activity вызываются методы `onPause` и `onStop`. Это значит, что фрагменты и Activity более недоступны для взаимодействия, а потом не видны пользователю.

Затем для фрагментов вызываются три метода по уничтожению:

`onDestroyView` – сообщает нам, что View, которое мы создавали в onCreateView, более недоступно

`onDestroy` – аналог метода onDestroy у Activity

`onDetach` – фрагмент отсоединен от Activity

И в конце вызывается метод `onDestroy` для Activity.

Т.е. основные методы ЖЦ схожи для активити и фрагмента. Но есть и некоторые различия, связанные с привязкой фрагмента к активити.

Фрагменты, так же как и Activity могут сохранять данные при своем пересоздании, например при смене экрана. Для записи используется метод `onSaveInstanceState`. А прочесть данные можно из `Bundle` в методах `onCreate`, `onCreateView` или `onActivityCreated`.
