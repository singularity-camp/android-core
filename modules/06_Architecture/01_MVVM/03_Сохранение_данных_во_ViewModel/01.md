# Подробнее про сохранение данных

Надеюсь со связью VM с ЖЦ `View` более менее понятно. Теперь поговорим про сохранение данных. Как помним из урока `Activity`, данные можно сохранять в Bundle, чтобы можно было их восстановить при повороте экране, или когда `Android` убьет наш activity. Во VM подход отличается тем, что данные "переживают" смену конфигураций, однако не способны "пережить" state restoration, так как компонент умирает вместе с VM. Также важно заметить, что Bundle ограничен в размерах (пару мегабайт), в то время как VM позволяет сохранять большое количество данных (в LiveData), ограниченным оперативной памятью. В таблице ниже можно увидеть сравнение подходов:


| <br/>                                                          | ViewModel                              | Saved instance state                                                                                                                     | База данных                                                   |
| -------------------------------------------------------------- | -------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------- |
| Где хранится                                        | В оперативной памяти | На устройстве в сериализованном виде                                                                     | На устройстве                                               |
| Переживает смену конфигураций       | +                                      | +                                                                                                                                        | +                                                                       |
| Переживает уничнтожение процесса | -                                      | +                                                                                                                                        | +                                                                       |
| Переживает закрытие экрана             | -                                      | -                                                                                                                                        | +                                                                       |
| Ограничения                                         | Самой RAM                         | Небольшим количеством пространства и только для примитивных типов данных | ограничен памятью (внутренней/внешней) |
| Скорость чтения/записи                     | Быстро                           | Долго (из-за сериализации и десериализации)                                                          | Долго                                                              |
